<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NVIDIA LLM å…¨æ£§å„ªåŒ–åŠ é€Ÿå™¨ | äº’å‹•å„€è¡¨æ¿</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #fdfbf7; /* Warm neutral background */
            color: #1f2937;
        }

        /* Chart Container Strict Styling */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px; /* Base height */
            max-height: 400px;
        }
        
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Custom Scrollbar for sleek look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        .nav-active {
            border-bottom: 2px solid #76b900; /* NVIDIA Green-ish */
            color: #1a202c;
            font-weight: 700;
        }

        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Visualization for Batching Simulation */
        .request-block {
            transition: all 0.5s ease;
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals with NVIDIA-inspired Green Accents. Background: Off-white (#fdfbf7), Text: Dark Grey, Accents: #76b900 (Green), #4a5568 (Cool Grey) -->
    <!-- Application Structure Plan: 
         1. Header & Context: Intro to the goal (Latency/Training Time).
         2. Navigation: Logical flow from Bottom-up (Hardware -> Network -> Software).
         3. Section I: Hardware (Compute): Focus on the SRAM vs HBM bottleneck and how CUDA/FlashAttention solves it. Interaction: Chart toggle.
         4. Section II: Network (Communication): Focus on the "Communication Wall". Visualization: Scaling efficiency chart comparing methods. Interactive cards for IB technologies.
         5. Section III: Software (Inference): Focus on TensorRT-LLM. Interaction: A "Batching Simulator" to visually demonstrate In-flight Batching vs Static.
         This structure tells the story of how raw iron is optimized, connected, and then orchestrated software-wise. 
    -->
    <!-- Visualization & Content Choices:
         1. Hardware: Bar Chart for SRAM/HBM Bandwidth/Latency comparison (Goal: Inform scale difference).
         2. Network: Line Chart for Scaling Efficiency (Goal: Compare Ring vs Tree/SHARP).
         3. Software: CSS/JS Animation for Batching (Goal: Change/Demonstrate Concept).
         4. Content: All text extracted directly from the provided Mind Map.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <div class="w-3 h-8 bg-green-600 rounded-sm"></div>
                <h1 class="text-xl md:text-2xl font-bold tracking-tight text-gray-800">NVIDIA LLM å…¨æ£§å„ªåŒ–å„€è¡¨æ¿</h1>
            </div>
            <nav class="hidden md:flex space-x-6">
                <button onclick="scrollToSection('intro')" class="text-gray-600 hover:text-green-700 transition-colors">ç¸½è¦½</button>
                <button onclick="scrollToSection('hardware')" class="text-gray-600 hover:text-green-700 transition-colors">é‹ç®—ç¡¬é«”</button>
                <button onclick="scrollToSection('network')" class="text-gray-600 hover:text-green-700 transition-colors">é€šè¨Šç¶²è·¯</button>
                <button onclick="scrollToSection('software')" class="text-gray-600 hover:text-green-700 transition-colors">è»Ÿé«”å„ªåŒ–</button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8 space-y-16">

        <!-- Intro Section -->
        <section id="intro" class="max-w-4xl mx-auto text-center space-y-6">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900">æ ¸å¿ƒç›®æ¨™ï¼šæ¥µé™å£“ç¸® LLM è¨“ç·´æ™‚é–“èˆ‡æ¨è«–å»¶é²</h2>
            <p class="text-lg text-gray-600 leading-relaxed">
                æœ¬æ‡‰ç”¨ç¨‹å¼è§£æ NVIDIA å¦‚ä½•é€éç¡¬é«”ã€ç¶²è·¯èˆ‡è»Ÿé«”çš„å…¨æ£§æ•´åˆï¼Œè§£æ±ºå¤§è¦æ¨¡ AI é‹ç®—ä¸­çš„ç“¶é ¸ã€‚
                å¾åº•å±¤è¨˜æ†¶é«”éšå±¤çš„æ•¸æ“šæ¬é‹ï¼Œåˆ°è¬å¡é›†ç¾¤çš„é€šè¨Šå”å®šï¼Œå†åˆ°æ¨è«–éšæ®µçš„å‹•æ…‹æ’ç¨‹ï¼Œæ¯ä¸€æ­¥éƒ½åœ¨æŒ‘æˆ°ç‰©ç†æ¥µé™ã€‚
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-8">
                <div class="p-6 bg-white rounded-xl border border-gray-100 shadow-sm">
                    <div class="text-2xl mb-2">ğŸš€</div>
                    <h3 class="font-bold text-gray-800">é‹ç®—åŠ é€Ÿ</h3>
                    <p class="text-sm text-gray-500">DGX SuperPOD & CUDA</p>
                </div>
                <div class="p-6 bg-white rounded-xl border border-gray-100 shadow-sm">
                    <div class="text-2xl mb-2">ğŸŒ</div>
                    <h3 class="font-bold text-gray-800">é€šè¨Šçªç ´</h3>
                    <p class="text-sm text-gray-500">NVLink & InfiniBand</p>
                </div>
                <div class="p-6 bg-white rounded-xl border border-gray-100 shadow-sm">
                    <div class="text-2xl mb-2">ğŸ§ </div>
                    <h3 class="font-bold text-gray-800">æ¨è«–æ¥µè‡´</h3>
                    <p class="text-sm text-gray-500">TensorRT-LLM</p>
                </div>
            </div>
        </section>

        <hr class="border-gray-200">

        <!-- Section I: Hardware -->
        <section id="hardware" class="scroll-mt-24">
            <div class="mb-8">
                <span class="text-green-600 font-bold tracking-wider uppercase text-sm">I. é‹ç®—ç¡¬é«”å¹³å°èˆ‡æ¶æ§‹ (DGX SuperPOD)</span>
                <h2 class="text-3xl font-bold text-gray-900 mt-2">è¨˜æ†¶é«”éšå±¤èˆ‡ CUDA å„ªåŒ–</h2>
                <p class="mt-4 text-gray-600 max-w-3xl">
                    åœ¨ç¡¬é«”å±¤ç´šï¼Œæ•ˆèƒ½ç“¶é ¸å¾€å¾€ä¸åœ¨æ–¼è¨ˆç®—èƒ½åŠ›ï¼Œè€Œåœ¨æ–¼ã€Œè¨˜æ†¶é«”ç‰† (Memory Wall)ã€ã€‚
                    äº†è§£ SRAM (L1/Shared Memory) èˆ‡ HBM (High Bandwidth Memory) çš„å·®ç•°ï¼Œæ˜¯ç†è§£ CUDA Kernel å„ªåŒ–ï¼ˆå¦‚ FlashAttentionï¼‰çš„é—œéµã€‚
                    SRAM æ¥µå¿«ä½†å®¹é‡å°ï¼ŒHBM å®¹é‡å¤§ä½†å»¶é²è¼ƒé«˜ã€‚
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <!-- Visualization Col -->
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-gray-100">
                    <h3 class="text-lg font-bold text-gray-800 mb-4 text-center">è¨˜æ†¶é«”éšå±¤æ€§èƒ½å°æ¯” (ç¤ºæ„åœ–)</h3>
                    <!-- Chart Container -->
                    <div class="chart-container">
                        <canvas id="memoryChart"></canvas>
                    </div>
                    <div class="mt-4 text-center text-sm text-gray-500">
                        æ³¨æ„ï¼šY è»¸ç‚ºå°æ•¸åˆ»åº¦ï¼ŒSRAM çš„é »å¯¬é é«˜æ–¼ HBMï¼Œä½†å»¶é²æ¥µä½ã€‚
                    </div>
                </div>

                <!-- Interaction/Content Col -->
                <div class="space-y-6">
                    <div class="bg-blue-50 p-6 rounded-xl border-l-4 border-blue-500">
                        <h4 class="font-bold text-blue-900 text-lg mb-2">æ ¸å¿ƒæŒ‘æˆ°ï¼šMemory Wall</h4>
                        <p class="text-blue-800 text-sm">
                            å¦‚æœ CUDA Kernel é »ç¹åœ°è®€å¯« HBMï¼Œå¼·å¤§çš„ GPU ç®—åŠ›å°‡æœƒé–’ç½®ç­‰å¾…æ•¸æ“šã€‚
                            å„ªåŒ–çš„ç›®æ¨™æ˜¯ï¼š<span class="font-bold">æœ€å¤§åŒ–æ•¸æ“šåœ¨ SRAM ä¸­çš„é‡ç”¨ (Data Reuse)ã€‚</span>
                        </p>
                    </div>

                    <div class="space-y-4">
                        <h4 class="font-bold text-gray-800 border-b pb-2">CUDA Kernels å„ªåŒ–æŠ€è¡“</h4>
                        
                        <div class="group cursor-pointer" onclick="toggleDetail('flash-att')">
                            <div class="flex justify-between items-center bg-white p-4 rounded-lg shadow-sm hover:bg-gray-50 transition border border-gray-200">
                                <span class="font-bold text-gray-700">âš¡ FlashAttention (ç®—å­èåˆ)</span>
                                <span class="text-gray-400 group-hover:text-green-600">â–¼</span>
                            </div>
                            <div id="flash-att" class="hidden px-4 py-3 bg-gray-50 text-sm text-gray-600 rounded-b-lg border-x border-b border-gray-200">
                                <p>é€é Tiling (åˆ†å¡Š) æŠ€è¡“ï¼Œå°‡å·¨å¤§çš„çŸ©é™£é‹ç®—æ‹†è§£ï¼Œä½¿æ•¸æ“šç›¡é‡åœç•™åœ¨ SRAM ä¸­å®Œæˆé‹ç®—ã€‚é€™æ¸›å°‘äº†å° HBM çš„å­˜å–æ¬¡æ•¸ï¼Œå…¶å¸¶ä¾†çš„é€Ÿåº¦æå‡æ¯”å–®ç´”å¢åŠ é‹ç®—åŠ›æ›´é¡¯è‘—ã€‚</p>
                            </div>
                        </div>

                        <div class="group cursor-pointer" onclick="toggleDetail('sram-opt')">
                            <div class="flex justify-between items-center bg-white p-4 rounded-lg shadow-sm hover:bg-gray-50 transition border border-gray-200">
                                <span class="font-bold text-gray-700">ğŸ’¾ SRAM (Static RAM) æ‡‰ç”¨</span>
                                <span class="text-gray-400 group-hover:text-green-600">â–¼</span>
                            </div>
                            <div id="sram-opt" class="hidden px-4 py-3 bg-gray-50 text-sm text-gray-600 rounded-b-lg border-x border-b border-gray-200">
                                <p>ç”¨æ–¼å­˜æ”¾æ­£åœ¨é‹ç®—çš„è‡¨æ™‚æ•¸æ“š (L1 Cache, Shared Memory)ã€‚å„ªåŒ–é‡é»åœ¨æ–¼ç²¾å¿ƒè¨­è¨ˆæ¼”ç®—æ³•ï¼Œä»¥é©æ‡‰å…¶æ¥µå°ä½†æ¥µå¿«çš„ç‰¹æ€§ã€‚</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section II: Network -->
        <section id="network" class="scroll-mt-24 bg-gray-50 -mx-4 px-4 py-12">
            <div class="container mx-auto">
                <div class="mb-8">
                    <span class="text-green-600 font-bold tracking-wider uppercase text-sm">II. åˆ†æ•£å¼é€šè¨Šèˆ‡ç¶²è·¯</span>
                    <h2 class="text-3xl font-bold text-gray-900 mt-2">æ‰“ç ´é€šè¨Šç‰† (Communication Wall)</h2>
                    <p class="mt-4 text-gray-600 max-w-3xl">
                        ç•¶æ¨¡å‹è¦æ¨¡è¶…è¶Šå–®æ©Ÿæ¥µé™ï¼Œæˆ‘å€‘éœ€è¦ NVLink èˆ‡ InfiniBandã€‚
                        NVLink è² è²¬ç¯€é»å…§çš„é«˜é€Ÿç›´é€£ï¼ŒInfiniBand è² è²¬ç¯€é»é–“çš„å¤§è¦æ¨¡äº’è¯ã€‚
                        é€™è£¡å±•ç¤ºäº†ä¸åŒé€šè¨Šå”å®šèˆ‡æŠ€è¡“å¦‚ä½•å½±éŸ¿å¤§è¦æ¨¡è¨“ç·´çš„æ•ˆç‡ã€‚
                    </p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Tech Cards -->
                    <div class="lg:col-span-1 space-y-4">
                        <h3 class="font-bold text-gray-700 mb-4">é—œéµé€šè¨ŠæŠ€è¡“ (é»æ“ŠæŸ¥çœ‹)</h3>
                        
                        <div onclick="selectNetworkTech('rdma')" class="bg-white p-5 rounded-xl shadow-sm cursor-pointer card-hover border border-gray-200 transition-all active-tech" id="tech-rdma">
                            <div class="font-bold text-gray-800 mb-1">RDMA (GPUDirect)</div>
                            <div class="text-xs text-gray-500">ç¹é CPU çš„é«˜é€Ÿé€šé“</div>
                        </div>

                        <div onclick="selectNetworkTech('sharp')" class="bg-white p-5 rounded-xl shadow-sm cursor-pointer card-hover border border-gray-200 transition-all" id="tech-sharp">
                            <div class="font-bold text-gray-800 mb-1">SHARP æŠ€è¡“</div>
                            <div class="text-xs text-gray-500">äº¤æ›æ©Ÿå…§çš„æ¢¯åº¦èšåˆé‹ç®—</div>
                        </div>

                        <div onclick="selectNetworkTech('adaptive')" class="bg-white p-5 rounded-xl shadow-sm cursor-pointer card-hover border border-gray-200 transition-all" id="tech-adaptive">
                            <div class="font-bold text-gray-800 mb-1">å‹•æ…‹è·¯ç”± (Adaptive Routing)</div>
                            <div class="text-xs text-gray-500">è‡ªå‹•é¿é–‹ç¶²è·¯æ“å¡</div>
                        </div>
                    </div>

                    <!-- Interactive Display -->
                    <div class="lg:col-span-2 bg-white p-6 rounded-2xl shadow-lg border border-gray-100 flex flex-col justify-between">
                        <div>
                            <h3 id="net-title" class="text-xl font-bold text-green-700 mb-2">RDMA (Remote Direct Memory Access)</h3>
                            <p id="net-desc" class="text-gray-600 mb-6 min-h-[60px]">
                                æ ¸å¿ƒï¼šå…è¨± GPU è¨˜æ†¶é«”ç›´æ¥é€²è¡Œé ç«¯å­˜å–ï¼Œå®Œå…¨ç¹é CPUã€‚åƒ¹å€¼ï¼šæ¶ˆé™¤äº† CPU ä»‹å…¥å’Œè¨˜æ†¶é«”æ‹·è²å¸¶ä¾†çš„å»¶é²ï¼Œå°æ–¼ç¶­æŒç·šæ€§æ“´å±•æ€§è‡³é—œé‡è¦ã€‚
                            </p>
                        </div>
                        
                        <!-- Chart Container -->
                        <div class="w-full bg-gray-50 rounded-lg p-2">
                             <h4 class="text-center text-xs font-bold text-gray-500 mb-2">æ¨¡æ“¬ï¼šå¤§è¦æ¨¡è¨“ç·´æ“´å±•æ•ˆç‡ (Scaling Efficiency)</h4>
                             <div class="chart-container">
                                <canvas id="networkChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Algorithms Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                    <div class="bg-white p-5 rounded-xl border border-gray-200">
                        <h4 class="font-bold text-gray-800 mb-2">Ring-AllReduce</h4>
                        <p class="text-sm text-gray-600">é€šè¨Šæ¨¡å¼æ•ˆç‡é«˜ï¼Œå°‡ç¯€é»æ§‹æˆç’°ç‹€ï¼Œé©åˆå¤§è¦æ¨¡è¨“ç·´çš„æ•¸æ“šä¸¦è¡Œã€‚å¸¶å¯¬åˆ©ç”¨ç‡ä½³ã€‚</p>
                    </div>
                    <div class="bg-white p-5 rounded-xl border border-gray-200">
                        <h4 class="font-bold text-gray-800 mb-2">Tree-AllReduce</h4>
                        <p class="text-sm text-gray-600">æ¨¹ç‹€çµæ§‹ï¼Œå»¶é²è¼ƒä½ï¼Œé©åˆå°å»¶é²æ•æ„Ÿçš„å ´æ™¯ï¼Œä½†æ ¹ç¯€é»å¯èƒ½æœ‰æ€§èƒ½ç“¶é ¸èˆ‡å–®é»æ•…éšœé¢¨éšªã€‚</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section III: Software -->
        <section id="software" class="scroll-mt-24">
            <div class="mb-8">
                <span class="text-green-600 font-bold tracking-wider uppercase text-sm">III. è»Ÿé«”å¹³å°èˆ‡æ¨è«–å„ªåŒ–</span>
                <h2 class="text-3xl font-bold text-gray-900 mt-2">TensorRT-LLM èˆ‡ NVAIE</h2>
                <p class="mt-4 text-gray-600 max-w-3xl">
                    ç¡¬é«”æä¾›äº†å¯èƒ½æ€§ï¼Œè»Ÿé«”å‰‡å¯¦ç¾äº†åƒ¹å€¼ã€‚NVIDIA AI Enterprise (NVAIE) æä¾›äº†ä¼æ¥­ç´šçš„ç©©å®šç’°å¢ƒï¼Œè€Œ TensorRT-LLM å‰‡é€éå„ç¨®é»‘ç§‘æŠ€ï¼ˆå¦‚ In-flight Batchingï¼‰å°‡æ¨è«–å»¶é²å£“åˆ°æ¥µé™ã€‚
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-12 gap-8">
                <!-- Concept Column -->
                <div class="md:col-span-5 space-y-6">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200 h-full">
                        <h3 class="font-bold text-gray-800 mb-4 text-lg">TensorRT-LLM å„ªåŒ–æ‰‹æ®µ</h3>
                        <ul class="space-y-4">
                            <li class="flex items-start">
                                <span class="bg-green-100 text-green-700 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold mr-3 mt-1">1</span>
                                <div>
                                    <span class="font-bold text-gray-700">ç®—å­èˆ‡ç²¾åº¦</span>
                                    <p class="text-sm text-gray-500 mt-1">å…§å»ºé«˜åº¦å„ªåŒ–çš„ CUDA Kernels (å¦‚ FP8 é‡åŒ–ã€FlashAttention)ï¼Œå¤§å¹…æ¸›å°‘é¡¯å­˜ä½”ç”¨ã€‚</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="bg-green-100 text-green-700 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold mr-3 mt-1">2</span>
                                <div>
                                    <span class="font-bold text-gray-700">In-flight Batching</span>
                                    <p class="text-sm text-gray-500 mt-1">æ‰“ç ´å‚³çµ± Static Batching éœ€ç­‰å¾…æ‰€æœ‰è«‹æ±‚å®Œæˆçš„é™åˆ¶ã€‚å…è¨±æ–°è«‹æ±‚éš¨æ™‚æ’å…¥å·²å®Œæˆçš„ç©ºç¼ºã€‚</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="bg-green-100 text-green-700 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold mr-3 mt-1">3</span>
                                <div>
                                    <span class="font-bold text-gray-700">æ¶æ§‹è½‰æ›</span>
                                    <p class="text-sm text-gray-500 mt-1">å°‡ PyTorch æ¨¡å‹è½‰æ›ç‚º TensorRT å¼•æ“ï¼Œæ”¯æ´å¤šç¯€é»é«˜æ•ˆéƒ¨ç½²ã€‚</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Interactive Simulation Column -->
                <div class="md:col-span-7">
                    <div class="bg-gray-900 text-white p-6 rounded-2xl shadow-xl overflow-hidden relative">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="font-bold text-lg">æ¨è«–æ’ç¨‹æ¨¡æ“¬å™¨ (Batching Simulator)</h3>
                            <div class="flex bg-gray-800 rounded-lg p-1">
                                <button onclick="setBatchMode('static')" id="btn-static" class="px-3 py-1 text-xs rounded font-bold bg-gray-600 text-white transition">Static Batching</button>
                                <button onclick="setBatchMode('inflight')" id="btn-inflight" class="px-3 py-1 text-xs rounded font-bold text-gray-400 hover:text-white transition">In-flight Batching</button>
                            </div>
                        </div>

                        <!-- Simulation Canvas -->
                        <div class="h-48 bg-gray-800 rounded-lg border border-gray-700 relative mb-4 p-4 flex flex-col justify-center space-y-2" id="sim-container">
                            <!-- Bars representing GPU slots/requests -->
                            <div class="text-xs text-gray-400 mb-1">GPU Compute Timeline -></div>
                            <div class="w-full h-8 bg-gray-700/50 rounded overflow-hidden flex items-center relative" id="track-1"></div>
                            <div class="w-full h-8 bg-gray-700/50 rounded overflow-hidden flex items-center relative" id="track-2"></div>
                            <div class="w-full h-8 bg-gray-700/50 rounded overflow-hidden flex items-center relative" id="track-3"></div>
                        </div>

                        <div class="grid grid-cols-2 gap-4 text-center">
                            <div class="bg-gray-800 rounded p-3">
                                <div class="text-gray-400 text-xs uppercase">GPU åˆ©ç”¨ç‡</div>
                                <div class="text-xl font-bold text-green-400" id="metric-util">50%</div>
                            </div>
                            <div class="bg-gray-800 rounded p-3">
                                <div class="text-gray-400 text-xs uppercase">å»¶é² (Latency)</div>
                                <div class="text-xl font-bold text-yellow-400" id="metric-latency">High</div>
                            </div>
                        </div>
                        
                        <p class="mt-4 text-xs text-gray-400 italic" id="sim-explanation">
                            Static: çŸ­è«‹æ±‚å¿…é ˆç­‰å¾…é•·è«‹æ±‚å®Œæˆï¼Œé€ æˆ GPU ç©ºé–’æµªè²» (ç°è‰²å€åŸŸ)ã€‚
                        </p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-300 py-8 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p class="text-sm mb-2">Generated based on "NVIDIA LLM Acceleration & Optimization Mind Map"</p>
            <p class="text-xs text-gray-500">Â© 2024 Interactive Report Demo. No SVG/Mermaid used.</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- 1. Memory Chart (Hardware Section) ---
        const ctxMemory = document.getElementById('memoryChart').getContext('2d');
        const memoryChart = new Chart(ctxMemory, {
            type: 'bar',
            data: {
                labels: ['SRAM (L1/Shared)', 'HBM (High Bandwidth)'],
                datasets: [
                    {
                        label: 'é »å¯¬ (TB/s)',
                        data: [19, 3.3], // Approximate H100 values
                        backgroundColor: 'rgba(118, 185, 0, 0.7)', // Nvidia Green
                        borderColor: 'rgba(118, 185, 0, 1)',
                        borderWidth: 1,
                        yAxisID: 'y'
                    },
                    {
                        label: 'å»¶é² (Latency Score)',
                        data: [1, 10], // Logical scale, lower is better but visualized as bars
                        backgroundColor: 'rgba(59, 130, 246, 0.7)', // Blue
                        borderColor: 'rgba(59, 130, 246, 1)',
                        borderWidth: 1,
                        yAxisID: 'y1'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: { display: true, text: 'Bandwidth (TB/s)' }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: { display: true, text: 'Latency (Relative)' },
                        grid: { drawOnChartArea: false }
                    }
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) { label += ': '; }
                                if (context.parsed.y !== null) { label += context.parsed.y; }
                                return label;
                            }
                        }
                    }
                }
            }
        });

        // --- 2. Network Chart (Scaling Efficiency) ---
        const ctxNetwork = document.getElementById('networkChart').getContext('2d');
        const networkChart = new Chart(ctxNetwork, {
            type: 'line',
            data: {
                labels: ['8 GPUs', '16 GPUs', '32 GPUs', '64 GPUs', '128 GPUs'],
                datasets: [
                    {
                        label: 'å‚³çµ± Ethernet/TCP',
                        data: [90, 80, 65, 50, 35],
                        borderColor: 'rgb(156, 163, 175)', // Gray
                        backgroundColor: 'rgba(156, 163, 175, 0.1)',
                        tension: 0.4,
                        fill: true
                    },
                    {
                        label: 'InfiniBand (RDMA + SHARP)',
                        data: [98, 97, 96, 95, 94],
                        borderColor: 'rgb(118, 185, 0)', // Nvidia Green
                        backgroundColor: 'rgba(118, 185, 0, 0.1)',
                        tension: 0.4,
                        fill: true
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        title: { display: true, text: 'Scaling Efficiency (%)' }
                    }
                },
                interaction: {
                    mode: 'index',
                    intersect: false,
                },
            }
        });

        // --- 3. Interaction Logic ---

        // Toggle Details in Hardware Section
        function toggleDetail(id) {
            const el = document.getElementById(id);
            if (el.classList.contains('hidden')) {
                el.classList.remove('hidden');
            } else {
                el.classList.add('hidden');
            }
        }

        // Network Tech Selection
        const networkData = {
            'rdma': {
                title: 'RDMA (Remote Direct Memory Access)',
                desc: 'æ ¸å¿ƒï¼šå…è¨± GPU è¨˜æ†¶é«”ç›´æ¥é€²è¡Œé ç«¯å­˜å–ï¼Œå®Œå…¨ç¹é CPUã€‚åƒ¹å€¼ï¼šæ¶ˆé™¤ CPU ä»‹å…¥å’Œè¨˜æ†¶é«”æ‹·è²å¸¶ä¾†çš„å»¶é²ã€‚é€™æ˜¯ GPUDirect æŠ€è¡“çš„åŸºç¤ã€‚'
            },
            'sharp': {
                title: 'SHARP (Scalable Hierarchical Aggregation)',
                desc: 'æ ¸å¿ƒï¼šåœ¨ InfiniBand äº¤æ›æ©Ÿç¡¬é«”å±¤ç´šé€²è¡Œæ¢¯åº¦èšåˆé‹ç®—ï¼ˆä¾‹å¦‚ï¼šAll-Reduceï¼‰ã€‚åƒ¹å€¼ï¼šæ¸›å°‘ç¶²è·¯å‚³è¼¸æ•¸æ“šé‡ï¼Œæ¥µå¤§åŠ é€Ÿå¤§è¦æ¨¡è¨“ç·´çš„åŒæ­¥æ™‚é–“ã€‚'
            },
            'adaptive': {
                title: 'å‹•æ…‹è·¯ç”± (Adaptive Routing)',
                desc: 'æ ¸å¿ƒï¼šæ ¹æ“šå³æ™‚æµé‡ï¼Œè‡ªå‹•å°‡æ•¸æ“šåŒ…åˆ†æµåˆ°æœ€ç©ºé–’çš„è·¯å¾‘ã€‚åƒ¹å€¼ï¼šé¿å…ç¶²è·¯æ“å¡ï¼Œç¶­æŒå¤§è¦æ¨¡é›†ç¾¤é€šè¨Šçš„ä½å»¶é²èˆ‡ä¸€è‡´æ€§ã€‚'
            }
        };

        function selectNetworkTech(techId) {
            // Update UI styles
            ['rdma', 'sharp', 'adaptive'].forEach(t => {
                const el = document.getElementById('tech-' + t);
                if (t === techId) {
                    el.classList.add('border-green-500', 'bg-green-50');
                    el.classList.remove('border-gray-200');
                } else {
                    el.classList.remove('border-green-500', 'bg-green-50');
                    el.classList.add('border-gray-200');
                }
            });

            // Update Text
            const info = networkData[techId];
            const titleEl = document.getElementById('net-title');
            const descEl = document.getElementById('net-desc');

            // Simple fade effect
            descEl.style.opacity = 0;
            setTimeout(() => {
                titleEl.textContent = info.title;
                descEl.textContent = info.desc;
                descEl.style.opacity = 1;
            }, 200);
        }

        // Batching Simulator Logic
        let batchInterval;
        function setBatchMode(mode) {
            const btnStatic = document.getElementById('btn-static');
            const btnInflight = document.getElementById('btn-inflight');
            const tracks = [document.getElementById('track-1'), document.getElementById('track-2'), document.getElementById('track-3')];
            const explanation = document.getElementById('sim-explanation');
            const metricUtil = document.getElementById('metric-util');
            const metricLat = document.getElementById('metric-latency');

            // Reset UI
            tracks.forEach(t => t.innerHTML = '');
            clearInterval(batchInterval);

            if (mode === 'static') {
                btnStatic.className = 'px-3 py-1 text-xs rounded font-bold bg-green-600 text-white transition';
                btnInflight.className = 'px-3 py-1 text-xs rounded font-bold text-gray-400 hover:text-white transition';
                explanation.textContent = 'Static: çŸ­è«‹æ±‚ (ç¶ è‰²) å¿…é ˆç­‰å¾…é•·è«‹æ±‚ (ç´…è‰²) å®Œæˆï¼Œé€ æˆ GPU ç©ºé–’æµªè²» (ç°è‰²é–“éš™)ã€‚';
                metricUtil.textContent = '55%';
                metricUtil.className = 'text-xl font-bold text-yellow-400';
                metricLat.textContent = 'High';
                
                // Simulate Static: Add blocks with gaps
                const staticPattern = [
                    { w: 'w-1/3', c: 'bg-red-500', gap: false }, // Long
                    { w: 'w-1/6', c: 'bg-green-500', gap: true }, // Short + wait
                    { w: 'w-1/4', c: 'bg-yellow-500', gap: true } // Med + wait
                ];
                
                tracks.forEach((track, idx) => {
                    const block = staticPattern[idx];
                    let html = `<div class="h-full ${block.w} ${block.c} flex items-center justify-center text-[10px] font-bold">REQ</div>`;
                    if (block.gap) {
                        html += `<div class="h-full flex-grow bg-gray-600/30 flex items-center justify-center text-[10px] text-gray-500 border-l border-gray-600 border-dashed">WAIT</div>`;
                    }
                    track.innerHTML = html;
                });

            } else {
                btnInflight.className = 'px-3 py-1 text-xs rounded font-bold bg-green-600 text-white transition';
                btnStatic.className = 'px-3 py-1 text-xs rounded font-bold text-gray-400 hover:text-white transition';
                explanation.textContent = 'In-flight: å…è¨±æ–°è«‹æ±‚éš¨æ™‚æ’å…¥ç©ºç¼ºã€‚GPU å§‹çµ‚ä¿æŒå¿™ç¢Œï¼Œæå‡ Throughputã€‚';
                metricUtil.textContent = '95%';
                metricUtil.className = 'text-xl font-bold text-green-400';
                metricLat.textContent = 'Optimized';

                // Simulate Inflight: Packed blocks
                tracks.forEach((track) => {
                    // Random generation to look busy
                    let html = '';
                    const widths = ['w-1/4', 'w-1/3', 'w-1/6', 'w-1/5'];
                    const colors = ['bg-red-500', 'bg-green-500', 'bg-yellow-500', 'bg-blue-500'];
                    
                    for(let i=0; i<4; i++) {
                        const w = widths[Math.floor(Math.random()*widths.length)];
                        const c = colors[Math.floor(Math.random()*colors.length)];
                        html += `<div class="h-full ${w} ${c} border-r border-gray-800 flex items-center justify-center text-[10px] font-bold">REQ</div>`;
                    }
                    track.innerHTML = html;
                });
            }
        }

        // Navigation Scroll
        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        // Initialize Defaults
        selectNetworkTech('rdma');
        setBatchMode('static');

    </script>
</body>
</html>
